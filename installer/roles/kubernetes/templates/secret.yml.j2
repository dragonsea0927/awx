---
apiVersion: v1
kind: Secret
metadata:
  namespace: {{ kubernetes_namespace }}
  name: "{{ kubernetes_deployment_name }}-secrets"
type: Opaque
data:
  secret_key: "{{ secret_key | b64encode }}"
  admin_password: "{{ admin_password | b64encode }}"
  pg_password: "{{ pg_password | b64encode }}"
  rabbitmq_password: "{{ rabbitmq_password | b64encode }}"
  rabbitmq_erlang_cookie: "{{ rabbitmq_erlang_cookie | b64encode }}"
  credentials_py: "{{ lookup('template', 'credentials.py.j2') | b64encode }}"
  environment_sh: "{{ lookup('template', 'environment.sh.j2') | b64encode }}"
