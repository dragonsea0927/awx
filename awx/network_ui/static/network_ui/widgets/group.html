<g ng-if="!hide_groups">
<rect ng-attr-width="{{group.width(scaledX)}}"
      ng-attr-height="{{group.height(scaledY)}}"
      ng-attr-x="{{group.left_extent(scaledX)}}"
      ng-attr-y="{{group.top_extent(scaledY)}}"
      ng-attr-class="{{group.selected && 'NetworkUI__group--selected' || 'NetworkUI--hidden'}}"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.left_extent(scaledX)}}"
      ng-attr-y="{{group.top_extent(scaledY)}}"
      ng-attr-class="{{group.selected && 'NetworkUI__group--selected' || 'NetworkUI--hidden'}}"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.right_extent(scaledX) - 10}}"
      ng-attr-y="{{group.top_extent(scaledY)}}"
      ng-attr-class="{{group.selected && 'NetworkUI__group--selected' || 'NetworkUI--hidden'}}"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.right_extent(scaledX) - 10}}"
      ng-attr-y="{{group.bottom_extent(scaledY) - 10}}"
      ng-attr-class="{{group.selected && 'NetworkUI__group--selected' || 'NetworkUI--hidden'}}"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.left_extent(scaledX)}}"
      ng-attr-y="{{group.bottom_extent(scaledY) - 10}}"
      ng-attr-class="{{group.selected && 'NetworkUI__group--selected' || 'NetworkUI--hidden'}}"/>

<g ng-if="group.highlighted || group.selected">
<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.left_extent(scaledX)}}"
      ng-attr-y="{{group.top_extent(scaledY)}}"
      class="NetworkUI__group"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.right_extent(scaledX) - 10}}"
      ng-attr-y="{{group.top_extent(scaledY)}}"
      class="NetworkUI__group"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.right_extent(scaledX) - 10}}"
      ng-attr-y="{{group.bottom_extent(scaledY) - 10}}"
      class="NetworkUI__group"/>

<rect ng-attr-width="10"
      ng-attr-height="10"
      ng-attr-x="{{group.left_extent(scaledX)}}"
      ng-attr-y="{{group.bottom_extent(scaledY) - 10}}"
      class="NetworkUI__group"/>
</g>

<rect ng-attr-width="{{group.width(scaledX)}}"
      ng-attr-height="{{group.height(scaledY)}}"
      ng-attr-x="{{group.left_extent(scaledX)}}"
      ng-attr-y="{{group.top_extent(scaledY)}}"
      class="NetworkUI__group"/>

<text ng-attr-class="{{group.selected && ! group.edit_label ? 'NetworkUI__group-text--selected' : 'NetworkUI--hidden'}}"
      filter="url(#selected)"
      text-anchor="left"
      ng-attr-x="{{group.left_extent(scaledX) + 20}}"
      ng-attr-y="{{group.top_extent(scaledY) + 32}}"> {{group.name}} </text>
<text class="NetworkUI__group-text" text-anchor="left" ng-attr-x="{{group.left_extent(scaledX) + 20}}" ng-attr-y="{{group.top_extent(scaledY) + 32}}">{{group.name}}{{group.edit_label?'_':''}}</text>
</g>
