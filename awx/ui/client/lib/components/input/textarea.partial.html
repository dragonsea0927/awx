<div class="col-sm-{{::col}} at-InputContainer">
    <div class="form-group at-u-flat">
        <at-input-label></at-input-label>
        <div ng-class="{ 'input-group': state.tagMode }">
          <div class="input-group-btn at-InputGroup-button input-group-prepend" ng-show="state.tagMode">
              <button class="btn at-ButtonHollow--white at-Input-button--long-sm"
                      ng-disabled="state._disabled || form.disabled"
                      ng-click="vm.onLookupClick()">
                  <i class="fa fa-search"></i>
              </button>
          </div>
          <div
            ng-show="state.asTag"
            ng-disabled="state._disabled || form.disabled"
            class="form-control at-Input at-InputTaggedTextarea"
            >
              <div class="at-InputTagContainer">
                <at-tag
                  ng-show="(!state._disabled) && state._tagValue"
                  icon="external"
                  tag="state._tagValue"
                  remove-tag="state._onRemoveTag(state)"
                />
                <at-tag
                  ng-show="state._disabled && state._tagValue"
                  icon="external"
                  tag="state._tagValue"
                  remove-tag="state._onRemoveTag(state)"
                />
              </div>
          </div>
          <textarea class="form-control at-Input at-InputTextarea"
                    ng-show="!state.asTag"
                    ng-model="state._value"
                    ng-class="{ 'at-Input--rejected': state._rejected }"
                    ng-attr-rows="{{::state._rows || 6 }}"
                    ng-attr-maxlength="{{ state.max_length || undefined }}"
                    ng-attr-tabindex="{{ tab || undefined }}"
                    ng-attr-placeholder="{{::state._placeholder || undefined }}"
                    ng-change="vm.check()"
                    ng-disabled="state._disabled || form.disabled" />
      </div>
        <at-input-message></at-input-message>
    </div>
</div>
